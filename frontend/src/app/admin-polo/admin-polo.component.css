/* Tipograf√≠a y reset m√≠nimo */
html, body, button, input, select, textarea, h1, h2, h3, h4, h5, h6, label {
  font-family: 'Inter', sans-serif;
}
*, *::before, *::after { box-sizing: border-box; }

/* Layout general */
.admin-layout { display: flex; flex-direction: column; min-height: 100vh; }
.content { flex-grow: 1; padding: 2rem; }

/* Topbar */
.topbar{
  position: sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  gap:1rem; padding:0.75rem 1rem; background:#fff; border-bottom:1px solid #eee;
}
.topbar-left { display:flex; align-items:center; gap:.75rem; }
.brand-logo { width:64px; height:64px; object-fit:contain; display:block; }
.topbar-title .app-title { font-weight:900; font-size:30px;  font-family: 'Inter', sans-serif;}
.topbar-title .app-sub { font-size:.85rem; color:#777; margin-top:-2px; }

.topbar-tabs{display:flex; gap:.25rem}
.topbar .tab{
  border:none; background:transparent; padding:.5rem .9rem; border-radius:999px;
  color:#555; cursor:pointer; transition: .2s ease;
}
.topbar .tab:hover{ background:#f5f5f5; }
.topbar .tab.active { background:#f0f0f0; color:#111; font-weight:600;  font-family: 'Inter', sans-serif;}

.topbar-right{display:flex; align-items:center; gap:.5rem}
.pill{
  background:#fff0f0; color:#a20000; border:1px solid #f5b5b5;
  padding:.45rem .8rem; border-radius:999px;
}


.topbar-right .ghost{
  background:#f5f5f5; border:none; padding:.45rem .8rem; border-radius:8px; color:#444; cursor:pointer
}
.topbar-icon-btn {
  display: inline-flex;
  align-items: center;
  gap: .4rem;          /* espacio entre icono y texto */
  font-weight: 500;
}

.topbar-icon-btn .material-symbols-outlined {
  font-size: 20px;     /* un poco m√°s chico que el texto */
  line-height: 1;
}

/* Cards */
.card {
  background:#fff; border-radius:12px; padding:1.5rem; margin-bottom:1.5rem;
  box-shadow:0 2px 6px rgba(0,0,0,.05); transition:box-shadow .2s ease;
}
.card:hover { box-shadow:0 4px 10px rgba(0,0,0,.1); }
.card h2 { font-size:1.1rem; font-weight:600; margin-bottom:1rem; font-family: 'Inter', sans-serif; }

/* Grids */
.card-grid { display:grid; grid-template-columns:1fr; gap:1rem; }
.card-stack { display:flex; flex-direction:column; gap:1rem; }
.grid-2 { display:grid; grid-template-columns:repeat(2,1fr); gap:1rem; }
.grid-3 { display:grid; grid-template-columns:repeat(3,1fr); gap:1rem; }
.col-2 { grid-column: span 2; }
.col-3 { grid-column: span 3; }

.page-header {
  display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-bottom:1rem;
}

.page-header .actions{
  display:flex;
  align-items:center;
  justify-content:space-between;  /* separa extremos */
  gap:1rem;
}
.actions-left{
  display:flex;
  align-items:center;
  gap:.75rem;
}
.page-header h1 { font-size:1.2rem; font-weight:600; color:#222;  font-family: 'Inter', sans-serif;}

/* Buscador inline */
.inline-search { display:flex; gap:.5rem; align-items:center; }
.inline-search input{
  height:44px;
  padding:.7rem .8rem;
  border:1px solid #ddd;
  border-radius:8px;
  font-size:.95rem;
  width: 420px;        /* << m√°s largo */
  max-width: 52vw;     /* limita en pantallas peque√±as */
}


/* Formularios */
.nice-form .field { display:flex; flex-direction:column; margin-bottom:1rem; min-width:0; }
.nice-form label { font-size:.85rem; font-weight:500; margin-bottom:.3rem; color:#555;  font-family: 'Inter', sans-serif;}
.nice-form input, .nice-form select, .nice-form textarea{
  width:100%; padding:.7rem .8rem; border:1px solid #ddd; border-radius:8px;
  font-size:.95rem; background:#fff; transition:border-color .2s ease, box-shadow .2s ease; font-family: 'Inter', sans-serif;
}
.nice-form input, .nice-form select { height:44px; line-height:44px; }
.nice-form textarea { min-height:120px; line-height:1.35; resize:vertical; }

.nice-form input::placeholder, .nice-form textarea::placeholder{
  color:#9aa0a6; opacity:1; text-overflow:ellipsis; white-space:nowrap; overflow:hidden;
}

/* Select nativo (para evitar warnings de prefijos) */
.nice-form select{ appearance:auto; -webkit-appearance:auto; -moz-appearance:auto; background-image:none; padding-right:.8rem; color:#111; }
.nice-form select option{ color:#111; background:#fff; }


/* Solo inputs/ selects/ textareas, no el <form> */
.nice-form input.ng-invalid.ng-touched,
.nice-form select.ng-invalid.ng-touched,
.nice-form textarea.ng-invalid.ng-touched{
  border-color:#d32f2f;
  box-shadow:0 0 0 3px rgba(211,47,47,.08);
}

/* Mostrar borde rojo tambi√©n cuando se env√≠a sin tocar nada */
.ng-submitted .nice-form input.ng-invalid,
.ng-submitted .nice-form select.ng-invalid,
.ng-submitted .nice-form textarea.ng-invalid{
  border-color:#d32f2f;
  box-shadow:0 0 0 3px rgba(211,47,47,.08);
}

/* Asegurar que el <form> nunca tome estilo de error */
.nice-form.ng-invalid{
  border-color: transparent !important;
  box-shadow: none !important;
}
/* Asterisco rojo en campos requeridos */
.req { color:#a20000; margin-left:4px; font-weight:700; }

/* Borde rojo en inputs/selects inv√°lidos cuando fueron tocados o tras submit */
.ng-invalid.ng-touched,
.ng-invalid.ng-dirty {
  border-color:#e53935 !important;
  box-shadow:0 0 0 2px rgba(229,57,53,.08);
}

/* Mensaje de error */
.error{
  margin-top:.35rem;
  font-size:.8rem;
  color:#a20000;
}



/* Botones */
.btn{
  display:inline-flex; align-items:center; gap:.4rem; padding:.6rem 1.2rem; border-radius:8px;
  font-weight:500; cursor:pointer; border:none; font-size:.9rem; transition:.2s ease;
}
.btn.primary{ background:#a20000; color:#fff; } .btn.primary:hover{ background:#870000; }
.btn.ghost{ background:#f5f5f5; color:#444; }
.btn.icon{ width:36px; height:36px; min-width:36px; min-height:36px; padding:0; border-radius:50%; display:inline-flex; align-items:center; justify-content:center; background:#f5f5f5; }
.btn.icon:hover{ background:#eaeaea; }
.btn.danger{ color:#a20000; background:#fff0f0; border:1px solid #f5b5b5; }
.btn .material-symbols-outlined{ font-size:20px; line-height:1; }

/* Badges */
.badge { display:inline-block; padding:.25rem .6rem; border-radius:999px; font-size:.8rem; line-height:1; }
.badge--ok { background:#eef8ea; color:#2e7d32; border:1px solid #cde8c3; }
.badge--off { background:#fff3f3; color:#a20000; border:1px solid #f5b5b5; }

/* Tablas */
.table { width:100%; }
.table .thead, .table .row{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap:.5rem; padding:.8rem 0; border-bottom:1px solid #eee;
  align-items:center;
  font-family: 'Inter', sans-serif; font-size:15px;
}
.table .thead{ font-weight:600; color:#444; font-family: 'Inter', sans-serif; }

/* üëâ Alinear "Acciones" a la derecha */
.table .thead > div:last-child { justify-self:end; text-align:right; }
.table .row .row-actions { display:flex; gap:.5rem; justify-self:end; }

/* Variantes de tabla seg√∫n entidad (columnas m√°s c√≥modas) */
.table--empresas .thead, .table--empresas .row { grid-template-columns: 140px 1.4fr 1fr 120px 160px 120px; }
.table--usuarios .thead, .table--usuarios .row { grid-template-columns: 1.6fr 1fr 140px 130px 120px; }
.table--servicios .thead, .table--servicios .row { grid-template-columns: 1.4fr 1fr 140px 1fr 140px 120px; }
.table--lotes .thead, .table--lotes .row { grid-template-columns: 1.2fr 120px 120px 1fr 120px; }

@media (max-width: 1000px){
  .table--empresas .thead, .table--empresas .row { grid-template-columns: 120px 1.2fr 1fr 100px 140px 110px; }
  .table--servicios .thead, .table--servicios .row { grid-template-columns: 1.2fr 1fr 120px 1fr 120px 110px; }
}
@media (max-width: 760px){
  .table .thead{ display:none; }
  .table .row{ grid-template-columns: 1fr auto; gap:.35rem .75rem; }
  .table .row > div{ grid-column: 1 / -1; }
  .table .row .row-actions { grid-column: 2 / 3; justify-self:end; }
}

/* Chips / enlaces de datos (si los necesit√°s) */
.data-stack{ display:flex; flex-direction:column; gap:6px; }
.chip-link, .chip-plain{
  display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px;
  max-width:320px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; line-height:1;
}
.chip-link{ background:#f6f7f8; border:1px solid #e9edf1; color:#1f2937; text-decoration:none; }
.chip-link:hover{ background:#eef1f4; }
.chip-plain{ background:#fafafa; border:1px solid #eee; color:#374151; }
.chip-link .material-symbols-outlined, .chip-plain .material-symbols-outlined{ font-size:18px; }

/* Overlays / Modales */
.overlay{
  position:fixed; inset:0; background:rgba(0,0,0,.4);
  display:flex; align-items:center; justify-content:center; z-index:1000; animation: fadeIn .2s ease;
}
.modal{
  background:#fff; border-radius:12px; padding:1.5rem; width:min(820px,95vw);
  max-height:90vh; overflow:auto; box-shadow:0 4px 20px rgba(0,0,0,.25); animation: slideIn .2s ease;
}
.modal--sm{ width:min(360px, 92vw); }
.modal--md{ width:min(640px, 94vw); }
.modal--lg{ width:min(900px, 96vw); }

.modal-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:1.2rem; }
.modal-header h3{ font-size:1.2rem; font-weight:600; margin:0; }
.icon-btn{ border:none; background:transparent; font-size:1.2rem;  cursor:pointer; transition:transform .2s ease; }
.icon-btn:hover { transform: scale(1.1); }

.modal-body{ display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap:1rem; }
.modal .col-2{ grid-column:span 2; } .modal .col-3{ grid-column:span 3; }

.modal-actions{ display:flex; justify-content:flex-end; gap:.8rem; margin-top:1rem; }

/* Inline 3 (para datos propietario/inq) */
.inline-3{
  display:grid; grid-template-columns: repeat(3, minmax(220px, 1fr));
  gap:.75rem; width:100%;
}
@media (max-width: 980px){ .inline-3{ grid-template-columns: repeat(2, minmax(220px, 1fr)); } }
@media (max-width: 680px){ .inline-3{ grid-template-columns: 1fr; } }

/* Settings */
.setting-card .setting-header { display:flex; align-items:center; gap:1rem; margin-bottom:.8rem; }
.setting-icon{ font-size:28px; }
.setting-icon.danger{ color:#a20000; }

/* Animaciones */
@keyframes fadeIn{ from{opacity:0} to{opacity:1} }
@keyframes slideIn{ from{transform:translateY(-15px); opacity:0} to{transform:translateY(0); opacity:1} }


@media (max-width: 900px){
  .page-header .actions{ flex-direction:column; align-items:stretch; gap:.75rem; }
  .actions-left{ order:1; }
  .inline-search{ order:2; }
  .inline-search input{ width:100%; max-width:none; }
}

/* Placeholders n√≠tidos y alineados */
.nice-form input::placeholder,
.nice-form textarea::placeholder { color:#9aa0a6; opacity:1; }

/* Ayudas siempre en bloque y sin desbordes */
.hint{ display:block; margin-top:.25rem; font-size:.8rem; color:#777; line-height:1.2; }

/* Quitar outline negro grueso del browser en focus */
.nice-form input:focus,
.nice-form select:focus,
.nice-form textarea:focus { outline:none; }

/* Asegurar que el <form> nunca tome el estilo de error global */
.nice-form.ng-invalid{ border-color:transparent!important; box-shadow:none!important; }


/* Altura y alineaci√≥n correctas de inputs/selects (sin forzar line-height igual a la altura) */
.nice-form input,
.nice-form select {
  height: 44px;        /* alto c√≥modo */
  line-height: 1.25;   /* NO 44px */
  padding: .7rem .8rem;
}

/* Placeholders n√≠tidos y sin ‚Äúbrincos‚Äù */
.nice-form input::placeholder,
.nice-form textarea::placeholder {
  color: #9aa0a6;
  opacity: 1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* El modal nunca muestra scroll horizontal */
.modal { overflow-x: hidden; }

/* La grilla interna del modal se adapta mejor y no empuja ancho */
.modal .modal-body {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* antes 220/240 */
  gap: 1rem;
}

/* Ayudas bajo campos: que envuelvan texto y no desborden */
.hint {
  display: block;
  margin-top: .25rem;
  font-size: .8rem;
  color: #777;
  line-height: 1.2;
  white-space: normal;         /* permite salto de l√≠nea */
  overflow-wrap: anywhere;     /* evita barras horizontales */
}

/* Quitar outline grueso del navegador al enfocar */
.nice-form input:focus,
.nice-form select:focus,
.nice-form textarea:focus {
  outline: none;
}


/* ====== Tipograf√≠a unificada Admin Polo & Empresa ====== */

/* Base */
html, body {
  font-size: 18px;   /* üëà Ajust√° aqu√≠ el tama√±o global (ej. 14px o 15px) */
  font-family: 'Inter', sans-serif;
  line-height: 1.4;
}

/* T√≠tulos */
.page-header h1 {
  font-size: 1.2rem;
  font-weight: 600;
}

.card h2,
.modal-header h3 {
  font-size: 1.2rem;    /* mismo tama√±o para subt√≠tulos */
  font-weight: 600;
}

/* Texto en tablas y listas */
.table .thead,
.table .row,
.data-list .chip,
.data-stack,
.chip-link,
.chip-plain {
  font-size: 0.90rem;
}

/* Formularios */
.nice-form label {
  font-size: 0.85rem;
}

.nice-form input,
.nice-form select,
.nice-form textarea {
  font-size: 0.9rem;
}

/* Botones */
.btn {
  font-size: 0.9rem;
}


/* Grilla fija para los campos base (3 columnas estables) */
.sp-base-grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(220px, 1fr));
  gap: 1rem;
  align-items: start;
}

/* Bloques extra que van debajo y ocupan 100% */
.sp-extra{
  display:grid;
  grid-template-columns: repeat(3, minmax(220px, 1fr));
  gap: 1rem;
}
.full-row{ grid-column: 1 / -1; }   /* fuerza a ocupar toda la fila */

/* En pantallas chicas manten√© el comportamiento responsive */
@media (max-width: 980px){
  .sp-base-grid,
  .sp-extra{ grid-template-columns: repeat(2, minmax(220px, 1fr)); }
}
@media (max-width: 680px){
  .sp-base-grid,
  .sp-extra{ grid-template-columns: 1fr; }
}

/* 1) No recortar placeholders en inputs ni textareas */
.nice-form input::placeholder,
.nice-form textarea::placeholder{
  text-overflow: clip;     /* en vez de ellipsis */
  white-space: normal;     /* permite ajustar */
  overflow: visible;       /* no los tape el borde */
}

/* Si quer√©s mantener todo en una l√≠nea pero sin cortar: */
/* .nice-form input::placeholder { white-space: nowrap; text-overflow: clip; overflow: visible; } */

/* 2) Evitar recortes dentro de columnas de grid (base y extras) */
.sp-base-grid .field,
.sp-extra .field,
.inline-3 input,
.inline-3 select,
.inline-3 textarea{
  min-width: 0;            /* permite que el contenido se adapte sin ‚Äúmorder‚Äù el borde */
}

/* Un pel√≠n m√°s de respiraci√≥n a la derecha */
.nice-form input,
.nice-form select {
  padding-right: 1rem;
}

/* Botonera ‚Äúarriba a la derecha‚Äù encima de la card */
.card-stack > .header-actions{
  display: flex;
  align-items: center;
  gap: .5rem;
  margin-bottom: .75rem;       /* separaci√≥n con la card de abajo */
}

/* Si hay varias acciones, que no desborden */
.card-stack > .header-actions{ flex-wrap: wrap; }

/* En pantallas chicas: que no quede pegado a los bordes */
@media (max-width: 700px){
  .card-stack > .header-actions{ padding-inline: .25rem; }
}


/* Header con bot√≥n arriba derecha y buscador full-width debajo */
.page-header{
  display: grid;
  grid-template-columns: 1fr auto;  /* contenido + acciones a la derecha */
  grid-auto-rows: auto;
  gap: .75rem 1rem;
  align-items: center;
  margin-bottom: 1rem;
}

/* Botonera: esquina superior derecha */
.header-actions{
  grid-column: 2 / 3;
  justify-self: end;
  display: flex;
  gap: .5rem;
}

/* Buscador: ocupa todo el ancho en la fila siguiente */
.header-search{
  grid-column: 1 / -1;
  display: flex;
  gap: .5rem;
  align-items: center;
  margin-bottom: 1.75rem;   /* ‚¨ÖÔ∏è antes era 1rem: m√°s separaci√≥n con la tabla */

}
.header-search input{
  flex: 1 1 auto;      /* ocupa todo el ancho disponible */
  width: 100%;
  max-width: none;
  height: 44px;
  padding: .7rem .8rem;
  border: 1px solid #ddd;
  border-radius: 8px;
  font-size: .95rem;
}

/* Responsive: se mantiene el mismo comportamiento */
@media (max-width: 900px){
  .page-header{ grid-template-columns: 1fr auto; }
  .header-actions{ grid-column: 2 / 3; }
  .header-search{ grid-column: 1 / -1; }
}


